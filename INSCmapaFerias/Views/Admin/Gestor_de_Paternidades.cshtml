@model IEnumerable<INSCmapaFerias.Areas.Identity.Data.Paternity>;

@{
    ViewData["Title"] = "Gestor Paternidade";
}

<div class="container">

    <div class="row">

        <h1 class="text-center">@ViewData["Title"]</h1>

        <a asp-action="Adicionar_Paternidade" class="btn botaoPaternidade">Adicionar</a>

    </div>

    <div class="row">

        <table class="table tableEvents" id="tableEvents">

            <caption>Lista Paternidade</caption>
  
            <thead>
    
                <tr class="trHeader">
                    <th scope="col">@Html.DisplayNameFor(model => model.Name)</th>
                    <th scope="col">@Html.DisplayNameFor(model => model.PaternityStart)</th>
                    <th scope="col">@Html.DisplayNameFor(model => model.PaternityEnd)</th> 
                    <th scope="col">@Html.DisplayNameFor(model => model.Total)</th> 
                    <th></th>
                </tr>
            </thead>
  
            <tbody>

                @foreach (var item in Model){
                    <tr class="trBody">
                        <td>@Html.DisplayFor(modelItem => item.Name)</td>
                        <td>@Html.DisplayFor(modelItem => item.PaternityStart)</td>
                        <td>@Html.DisplayFor(modelItem => item.PaternityEnd)</td>
                        <td>@Html.DisplayFor(modelItem => item.Total)</td>
                        <td>
                            <a class="btn botaoEditarCRUD" asp-action="Editar_Paternidade" asp-route-id="@item.PaternityId">Editar</a>
                            <a class="btn botaoEliminarCRUD" asp-action="Eliminar_Paternidade" asp-route-id="@item.PaternityId">Eliminar</a>
                        </td>
                    </tr>
                }
            </tbody>

        </table>

    </div>

</div>

@section Scripts{

    @if (TempData["PaternityEditSuccess"] != null)
    {
    <script>
        Swal.fire({
            position: 'top-end',
            icon: 'success',
            title: 'Atualizado com sucesso',
            showConfirmButton: false,
            timer: 1500,
            timerProgressBar: true,
        });
    </script>
    } else if(TempData["PaternityRemoveSuccess"] != null) {
        <script>
            Swal.fire({
                position: 'top-end',
                icon: 'info',
                title: 'Removido com sucesso',
                showConfirmButton: false,
                timer: 1500,
                timerProgressBar: true,
            });
        </script>
    } else if(TempData["PaternitySubmited"] != null) {
        <script>
            Swal.fire({
                position: 'top-end',
                icon: 'success',
                title: 'Adicionado com sucesso',
                showConfirmButton: false,
                timer: 1500,
                timerProgressBar: true,
            });
        </script>
    } else if(TempData["PaternidadeNull"] != null) {
        <script>
            Swal.fire({
                position: 'top-end',
                icon: 'error',
                title: 'Erro',
                html: 'Não foi possível identificar esta paternidade, entre em contato com um <span class="text-danger">administrador</span>.',
                showConfirmButton: false,
                timer: 1500,
                timerProgressBar: true,
            });
        </script>
    } else if(TempData["DBerror"] != null) {
        <script>
            Swal.fire({
                position: 'top-end',
                icon: 'error',
                title: 'Erro',
                html: 'Erro ao tentar atualizar na base de dados.',
                showConfirmButton: false,
                timer: 1500,
                timerProgressBar: true,
            });
        </script>
    }
}<!-- end Section Scripts-->
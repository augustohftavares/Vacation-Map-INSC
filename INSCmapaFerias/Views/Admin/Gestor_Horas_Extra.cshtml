@model IEnumerable<INSCmapaFerias.Areas.Identity.Data.Overtime>;

@{
    ViewData["Title"] = "Gestor Horas Extra";
}

<div class="container">

    <div class="row">

        <h1 class="text-center">@ViewData["Title"]</h1>

        <a asp-action="Adicionar_Horas_Extra" class="btn botaoPaternidade">Adicionar</a>

    </div>

    <div class="row">

        <table class="table tableEvents" id="tableEvents">

            <caption>Lista Horas Extra</caption>
  
            <thead>
    
                <tr class="trHeader">
                    <th scope="col">@Html.DisplayNameFor(model => model.OvertimeName)</th>
                    <th scope="col">@Html.DisplayNameFor(model => model.OvertimeStart)</th>
                    <th scope="col">@Html.DisplayNameFor(model => model.OvertimeEnd)</th> 
                    <th scope="col">@Html.DisplayNameFor(model => model.Total)</th> 
                    <th scope="col">@Html.DisplayNameFor(model => model.Hours)</th> 
                    <th></th>
                </tr>
            </thead>
  
            <tbody>

                @foreach (var item in Model){
                    <tr class="trBody">
                        <td>@Html.DisplayFor(modelItem => item.OvertimeName)</td>
                        <td>@Html.DisplayFor(modelItem => item.OvertimeStart)</td>
                        <td>@Html.DisplayFor(modelItem => item.OvertimeEnd)</td>
                        <td>@Html.DisplayFor(modelItem => item.Total)</td>
                        <td>@Html.DisplayFor(modelItem => item.Hours)</td>
                        <td>
                            <a class="btn botaoEditarCRUD" asp-action="Editar_Horas_Extra" asp-route-id="@item.OvertimeId">Editar</a>
                            <a class="btn botaoEliminarCRUD" asp-action="Eliminar_Horas_Extra" asp-route-id="@item.OvertimeId">Eliminar</a>
                        </td>
                    </tr>
                }
            </tbody>

        </table>

    </div>

</div>

@section Scripts{

    @if (TempData["OvertimeSubmited"] != null)
    {
    <script>
        Swal.fire({
            position: 'top-end',
            icon: 'success',
            title: 'Adicionado com sucesso',
            showConfirmButton: false,
            timer: 1500,
            timerProgressBar: true,
        });
        </script>
    } else if(TempData["OvertimeEditSuccess"] != null) {
        <script>
            Swal.fire({
                position: 'top-end',
                icon: 'success',
                title: 'Atualizado com sucesso',
                showConfirmButton: false,
                timer: 1500,
                timerProgressBar: true,
            });
        </script>
    } else if(TempData["OvertimeRemoveSuccess"] != null) {
        <script>
            Swal.fire({
                position: 'top-end',
                icon: 'info',
                title: 'Removido com sucesso',
                showConfirmButton: false,
                timer: 1500,
                timerProgressBar: true,
            });
        </script>
    } else if(TempData["HorasExtraNull"] != null) {
        <script>
            Swal.fire({
                position: 'top-end',
                icon: 'error',
                title: 'Erro',
                html: 'Não foi possível identificar esta hora extra, entre em contato com um <span class="text-danger">administrador</span>.',
                showConfirmButton: false,
                timer: 1500,
                timerProgressBar: true,
            });
        </script>
    } else if(TempData["DBerror"] != null) {
        <script>
            Swal.fire({
                position: 'top-end',
                icon: 'error',
                title: 'Erro',
                html: 'Erro ao tentar atualizar na base de dados.',
                showConfirmButton: false,
                timer: 1500,
                timerProgressBar: true,
            });
        </script>
    }

}<!-- end Section Scripts-->